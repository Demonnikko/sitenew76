<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Kostyuk Project | Premium Magic</title>

<meta name="description" content="ĞŸÑ€ĞµĞ¼Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ ÑˆĞ¾Ñƒ Ğ¸Ğ»Ğ»ÑĞ·Ğ¸Ğ¾Ğ½Ğ¸ÑÑ‚Ğ° Ğ”Ğ¼Ğ¸Ñ‚Ñ€Ğ¸Ñ ĞšĞ¾ÑÑ‚ÑĞºĞ°.">
<meta property="og:title" content="Kostyuk Project">
<meta property="og:image" content="images/hero-portrait.png">
<meta name="theme-color" content="#050505">

<link rel="preload" as="image" href="images/hero-portrait.png">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Manrope:wght@300;400;600;800&display=swap" rel="stylesheet">

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

<style>
/* === CSS STYLES === */
:root {
  --bg: #050505;
  --bg-panel: rgba(20, 20, 22, 0.85);
  --text: #F2F2F2;
  --gold-primary: #D4AF37;
  --gold-light: #F8E79B;
  --gold-dark: #8A6E2F;
  --gradient-gold: linear-gradient(135deg, var(--gold-primary) 0%, var(--gold-light) 50%, var(--gold-dark) 100%);
  --container: min(1100px, 92vw);
  --ff-head: 'Cinzel', serif;
  --ff-body: 'Manrope', sans-serif;
  --radius: 20px;
}

*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
html { -webkit-font-smoothing: antialiased; scroll-behavior: smooth; }
body {
  font-family: var(--ff-body); background: var(--bg); color: var(--text);
  line-height: 1.6; overflow-x: hidden; margin: 0;
  /* Ğ¡ĞºÑ€Ñ‹Ğ²Ğ°ĞµĞ¼ ÑĞºÑ€Ğ¾Ğ»Ğ» Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ½Ğ° Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ ĞºÑƒĞ»Ğ¸Ñ */
  height: 100vh; overflow-y: hidden;
}
body.loaded { overflow-y: auto; height: auto; }

/* 3D BACKGROUND CANVAS */
#webgl-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }

/* MAGIC CURSOR */
.magic-cursor {
  position: fixed; top: 0; left: 0; width: 20px; height: 20px;
  border: 1px solid var(--gold-primary); border-radius: 50%;
  pointer-events: none; z-index: 9999; transform: translate(-50%, -50%);
  transition: width 0.3s, height 0.3s, background 0.3s, opacity 0.3s;
  mix-blend-mode: exclusion;
}
.magic-cursor.hovered { width: 60px; height: 60px; background: rgba(212, 175, 55, 0.8); border-color: transparent; mix-blend-mode: normal; }
@media (max-width: 900px) { .magic-cursor { display: none; } }

/* === ULTIMATE CURTAINS (PRELOADER) === */
.curtain-wrapper {
  position: fixed; inset: 0; z-index: 10000;
  display: flex; pointer-events: none;
  background: transparent;
  transition: opacity 1s ease, visibility 1s ease;
}
.curtain-wrapper.finished { opacity: 0; visibility: hidden; }

.curtain-bg {
    position: absolute; inset: 0; background: #000; z-index: 1;
    transition: opacity 1s ease;
}

.curtain-spotlight {
  position: absolute; inset: 0; z-index: 5;
  background: radial-gradient(circle at 50% 40%, transparent 10%, rgba(0,0,0,0.6) 60%, rgba(0,0,0,0.9) 100%);
  pointer-events: none;
}
.curtain-panel {
  width: 50%; height: 100%;
  position: relative; z-index: 2;
  background-color: #4a0404; /* Royal Red */
  background-image: repeating-linear-gradient(90deg, 
      rgba(0,0,0,0.8) 0%, rgba(80,0,0,0.5) 15%, rgba(255,50,50,0.1) 25%, rgba(80,0,0,0.5) 35%, rgba(0,0,0,0.8) 50%
  );
  box-shadow: inset 0 0 150px rgba(0,0,0,1);
  transform-origin: top; will-change: transform;
}
.curtain-panel::after {
  content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 15px;
  background: linear-gradient(90deg, var(--gold-dark), var(--gold-primary), var(--gold-dark));
  box-shadow: 0 -2px 10px rgba(0,0,0,0.5);
}
.curtain-panel.left { border-right: 1px solid rgba(0,0,0,0.8); }
.curtain-panel.right { border-left: 1px solid rgba(0,0,0,0.8); }

.curtain-content {
  position: absolute; top: 45%; left: 50%;
  transform: translate(-50%, -50%); z-index: 10;
  text-align: center; width: 100%; perspective: 1000px;
}
.curtain-text {
  font-family: var(--ff-head); font-size: clamp(2.5rem, 6vw, 5rem); font-weight: 900; 
  color: transparent;
  background: linear-gradient(to bottom, #FFF5C3 0%, #D4AF37 40%, #8A6E2F 100%);
  -webkit-background-clip: text; background-clip: text;
  filter: drop-shadow(0 10px 5px rgba(0,0,0,0.5)) drop-shadow(0 2px 0 #000);
  letter-spacing: 0.1em; text-transform: uppercase;
  opacity: 0; transform: scale(0.9);
}
.curtain-subtext {
  font-family: var(--ff-body); font-size: 0.9rem; 
  color: var(--gold-light); text-transform: uppercase; letter-spacing: 0.3em;
  margin-top: 10px; opacity: 0;
}

/* === UI UTILS === */
.container { width: var(--container); margin: 0 auto; position: relative; z-index: 2; }
.section-py { padding-block: clamp(60px, 8vw, 120px); }
.text-gold { background: linear-gradient(to right, #D4AF37, #FFF5C3, #D4AF37); -webkit-background-clip: text; color: transparent; background-clip: text; font-weight: 700; }
.text-center { text-align: center; }
.icon-svg { width: 24px; height: 24px; fill: none; stroke: currentColor; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }
.icon-large { width: 48px; height: 48px; stroke-width: 1.5; }

/* Buttons */
.btn {
  display: inline-flex; align-items: center; justify-content: center; gap: 10px;
  padding: 16px 32px; border-radius: 60px; font-weight: 700; font-size: 1rem;
  text-transform: uppercase; letter-spacing: 0.05em; transition: 0.3s;
  position: relative; overflow: hidden; z-index: 1; border:none; outline:none; cursor: pointer; text-decoration: none;
}
.btn-primary { background: var(--gradient-gold); color: #000; box-shadow: 0 4px 20px rgba(212, 175, 55, 0.2); }
.btn-primary:hover { box-shadow: 0 10px 40px rgba(212, 175, 55, 0.5); transform: translateY(-2px); }
.btn-glass { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); color: #fff; backdrop-filter: blur(4px); }
.btn-glass:hover { border-color: var(--gold-primary); background: rgba(255,255,255,0.1); }
.btn:disabled { opacity: 0.6; cursor: not-allowed; filter: grayscale(1); }

/* Inputs */
.input-field {
  width: 100%; background: rgba(20,20,20,0.8); border: 1px solid #333;
  padding: 16px; border-radius: 12px; color: #fff; font-size: 1rem; margin-bottom: 16px; transition: 0.3s;
  backdrop-filter: blur(5px); outline: none;
}
.input-field:focus { border-color: var(--gold-primary); box-shadow: 0 0 15px rgba(212,175,55,0.1); }
label { display: block; margin-bottom: 8px; font-size: 0.85rem; color: #888; text-transform: uppercase; letter-spacing: 0.05em; }

/* === HEADER === */
.header { position: fixed; top: 0; inset-inline: 0; z-index: 100; padding: 15px 0; background: rgba(5,5,5,0.9); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(255,255,255,0.05); }
.nav-flex { display: flex; justify-content: space-between; align-items: center; }
.logo { font-family: var(--ff-head); font-size: 1.5rem; font-weight: 900; color: #fff; text-decoration: none; }
.logo span { color: var(--gold-primary); margin-left: 5px; }
.burger { width: 40px; height: 40px; background: none; display: flex; flex-direction: column; justify-content: center; gap: 6px; border:none; cursor:pointer; }
.burger span { width: 28px; height: 2px; background: #fff; align-self: flex-end; transition: 0.3s; }
.burger.active span:nth-child(2) { opacity: 0; }
.burger.active span:nth-child(1) { transform: rotate(45deg) translate(5px, 6px); }
.burger.active span:nth-child(3) { transform: rotate(-45deg) translate(5px, -6px); }

/* === MENU === */
.mobile-menu {
  position: fixed; inset: 0; background: #000; z-index: 99;
  display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 2rem;
  transform: translateY(-100%); transition: 0.6s cubic-bezier(0.16, 1, 0.3, 1);
  padding: 20px;
}
.mobile-menu.open { transform: translateY(0); }

.nav-card {
  width: 100%; max-width: 400px; padding: 40px 30px; border: 1px solid rgba(255,255,255,0.1); border-radius: 20px;
  text-decoration: none; text-align: center; transition: 0.4s; position: relative; overflow: hidden; backdrop-filter: blur(10px);
  background: none; cursor: pointer; display: block;
}
.nav-card:hover { transform: translateY(-5px); }
.nav-card.gold { background: linear-gradient(135deg, rgba(212, 175, 55, 0.1), rgba(0,0,0,0.8)); border-color: var(--gold-primary); }
.nav-card.gold h3 { color: #fff; } .nav-card.gold span { color: var(--gold-primary); }
.nav-card.silver { background: linear-gradient(135deg, rgba(255,255,255,0.05), rgba(0,0,0,0.8)); border-color: #fff; }
.nav-card.silver h3 { color: #fff; } .nav-card.silver span { color: #aaa; }
.nav-card h3 { font-family: var(--ff-head); font-size: 1.6rem; margin: 10px 0 0; line-height: 1.2; text-transform: uppercase; }
.nav-card span { text-transform: uppercase; font-size: 0.75rem; letter-spacing: 0.2em; font-weight: 700; opacity: 0.8; }

/* === HERO === */
.hero { height: 100dvh; display: flex; align-items: flex-end; padding-bottom: 120px; position: relative; overflow: hidden; }
.hero-img {
  position: absolute; right: 0; bottom: 0; height: 100%; width: 100%;
  background-image: url('images/hero-portrait.png'); 
  background-size: contain; background-repeat: no-repeat; background-position: bottom center;
  pointer-events: none; z-index: 1;
}
#hero-particles-container { width: 100%; height: 100%; position: absolute; top: 0; left: 0; z-index: 2; }
@media (max-width: 768px) { 
    .hero { padding-bottom: 80px; }
    .hero-img { width: 100%; height: 100%; background-size: cover; background-position: center top; } 
}

.hero-content { max-width: 700px; position: relative; z-index: 3; margin-bottom: 20px; }
.hero-title { font-family: var(--ff-head); font-size: clamp(40px, 9vw, 96px); line-height: 1.05; margin-bottom: 24px; }
.hero-desc { font-size: 1.2rem; color: #fff; text-shadow: 0 2px 10px rgba(0,0,0,0.8); margin-bottom: 40px; max-width: 480px; }
.hero-btns { display:flex; gap:20px; flex-wrap:wrap; }

/* === PARTNERS MARQUEE === */
.partners-section { 
  padding: 40px 0; border-bottom: 1px solid #222; overflow: hidden; 
  background: rgba(8,8,8,0.5); backdrop-filter: blur(5px); position:relative; z-index:2; 
  mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
  -webkit-mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
}
.partners-track { display: flex; gap: 60px; width: max-content; animation: scrollLogos 40s linear infinite; }
.partner-logo { height: 40px; width: auto; opacity: 0.8; transition: 0.3s; flex-shrink: 0; }
.partner-logo:hover { opacity: 1; transform: scale(1.05); }
@keyframes scrollLogos { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }

/* === CARDS === */
.grid-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px; }
.card {
  padding: 30px; background: var(--bg-panel); border: 1px solid rgba(255,255,255,0.08); border-radius: 20px;
  transition: 0.3s;
  display: flex; flex-direction: column;
}
.card:hover { border-color: var(--gold-primary); background: rgba(255,255,255,0.08); }
.card-icon-wrap { margin-bottom: 20px; color: var(--gold-primary); }
.card h3 { font-family: var(--ff-head); font-size: 1.5rem; margin-bottom: 10px; color: #fff; }
.card-price { display: block; font-size: 1.1rem; color: var(--gold-primary); font-weight: 700; margin-bottom: 20px; }
.card ul li { padding-left: 20px; margin-bottom: 8px; color: #aaa; list-style: none; position: relative; }
.card ul li::before { content: ''; position: absolute; left: 0; top: 6px; width: 8px; height: 8px; background: var(--gold-primary); border-radius: 50%; }

/* === CALCULATOR === */
.wizard-box {
  background: var(--bg-panel); border-radius: 24px; border: 1px solid #222; overflow: hidden;
  min-height: 550px; display: flex; flex-direction: column;
  backdrop-filter: blur(10px);
}
.wizard-progress { height: 4px; background: #222; width: 100%; }
.progress-bar { height: 100%; background: var(--gradient-gold); width: 33%; transition: 0.5s; }
.wizard-step { padding: 30px; display: none; flex: 1; flex-direction: column; animation: slideIn 0.5s ease; overflow-y: auto; }
.wizard-step::-webkit-scrollbar { width: 6px; }
.wizard-step::-webkit-scrollbar-track { background: #111; }
.wizard-step::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
.wizard-step.active { display: flex; }
@keyframes slideIn { from{opacity:0; transform:translateX(20px)} to{opacity:1; transform:translateX(0)} }
.step-title { font-family: var(--ff-head); font-size: 1.6rem; margin-bottom: 30px; color: #fff; text-align: center; }
.wiz-controls { margin-top: auto; display: flex; gap: 15px; padding-top: 20px; border-top: 1px solid #222; }
.receipt { background: #000; padding: 20px; border-radius: 16px; border: 1px solid #333; margin-bottom: 20px; }
.receipt-row { display: flex; justify-content: space-between; margin-bottom: 12px; border-bottom: 1px dashed #333; padding-bottom: 5px; color: #bbb; font-size: 0.9rem; }
.receipt-total { font-size: 2rem; color: var(--gold-primary); font-family: var(--ff-head); text-align: right; display: block; margin-top: 15px; }

/* Multi-Select Service Buttons */
#svcOptions { display: flex; flex-direction: column; gap: 25px; }
.svc-category-group { display: flex; flex-direction: column; gap: 10px; }
.svc-group-title { color: var(--gold-primary); font-family: var(--ff-head); text-transform: uppercase; font-size: 0.9rem; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 5px; letter-spacing: 0.05em; width:100%; }
.svc-grid { display: grid; gap: 10px; grid-template-columns: 1fr; }
@media (min-width: 500px) { .svc-grid { grid-template-columns: 1fr 1fr; } }
.svc-btn {
  background: rgba(255,255,255,0.05); border: 1px solid #333; padding: 15px; border-radius: 10px;
  cursor: pointer; transition: 0.2s; text-align: left; user-select: none; position: relative; overflow: hidden;
  display: flex; flex-direction: column; justify-content: center;
}
.svc-btn:hover { background: rgba(255,255,255,0.1); border-color: #555; }
.svc-btn.selected { border-color: var(--gold-primary); background: rgba(212, 175, 55, 0.15); box-shadow: 0 0 15px rgba(212,175,55,0.1); }
.svc-btn.selected::after { content: 'âœ“'; position: absolute; top: 15px; right: 15px; color: var(--gold-primary); font-weight: bold; font-size: 1.2rem; }
.svc-name { display: block; font-weight: 700; color: #fff; margin-bottom: 4px; font-size: 0.9rem; padding-right: 20px; line-height: 1.2; }
.svc-cost { display: block; font-size: 0.85rem; color: var(--gold-primary); opacity: 0.9; }

/* BONUSES STYLES */
.bonus-container { margin-top: 20px; border-top: 1px solid #333; padding-top: 10px; }
.bonus-item {
  display: flex; align-items: center; gap: 15px;
  background: rgba(20, 20, 20, 0.8); padding: 15px; border-radius: 10px; margin-bottom: 10px;
  border: 1px solid; animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  position: relative; overflow: hidden;
}
@keyframes popIn { from{transform:scale(0.9);opacity:0} to{transform:scale(1);opacity:1} }
.bonus-item .gift-badge { 
  margin-left: auto; background: #28a745; color: #fff; 
  font-size: 0.7rem; padding: 4px 8px; border-radius: 4px; font-weight: 800;
  text-transform: uppercase; letter-spacing: 0.05em;
  animation: pulseGreen 2s infinite; text-align: center;
}
@keyframes pulseGreen { 0% { box-shadow: 0 0 0 0 rgba(40, 167, 69, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(40, 167, 69, 0); } 100% { box-shadow: 0 0 0 0 rgba(40, 167, 69, 0); } }
.bonus-tier-1 { border-color: #4CAF50; background: linear-gradient(to right, rgba(76, 175, 80, 0.15), transparent); }
.bonus-tier-1 .icon-svg { stroke: #4CAF50; }
.bonus-tier-2 { border-color: var(--gold-primary); background: linear-gradient(to right, rgba(212, 175, 55, 0.15), transparent); }
.bonus-tier-2 .icon-svg { stroke: var(--gold-primary); animation: pulseIcon 2s infinite; }
.bonus-tier-3 { border-color: #ff4d4d; background: linear-gradient(to right, rgba(255, 77, 77, 0.15), transparent); box-shadow: 0 0 20px rgba(255, 77, 77, 0.1); }
.bonus-tier-3 .icon-svg { stroke: #ff4d4d; }
@keyframes pulseIcon { 0%, 100% { transform: scale(1); filter: drop-shadow(0 0 0 rgba(212,175,55,0)); } 50% { transform: scale(1.1); filter: drop-shadow(0 0 5px rgba(212,175,55,0.5)); } }
.bonus-text { font-size: 0.85rem; color: #fff; line-height: 1.3; }
.bonus-text strong { display: block; text-transform: uppercase; font-size: 0.8rem; font-weight: 800; margin-bottom: 2px; color: var(--gold-primary); }
.bonus-note { font-size: 0.7rem; color: #aaa; display: block; margin-top: 2px; font-style: italic; }

/* === GAME === */
.game-section { text-align: center; border-block: 1px solid #222; background: rgba(0,0,0,0.6); backdrop-filter:blur(5px); }
.deck { display: flex; justify-content: center; gap: 15px; margin: 40px 0; perspective: 1000px; }
.card-play { width: 100px; height: 150px; position: relative; transform-style: preserve-3d; transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275); cursor: pointer; }
.card-play.flipped { transform: rotateY(180deg); }
.face { position: absolute; inset: 0; backface-visibility: hidden; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 2rem; font-weight: bold; background: #fff; }
.back { background: linear-gradient(135deg, #111, #333); border: 2px solid var(--gold-primary); transform: rotateY(0deg); z-index: 2; }
.front { transform: rotateY(180deg); color: #000; }

/* === REVIEWS & FAQ === */
.reviews-grid { display: flex; flex-wrap: wrap; justify-content: center; gap: 30px; max-width: 850px; margin: 0 auto; }
.tg-review-item { display: flex; flex-direction: column; align-items: center; width: 200px; }
.tg-circle {
  width: 180px; height: 180px; border-radius: 50%; overflow: hidden;
  border: 3px solid var(--gold-primary); box-shadow: 0 10px 30px rgba(0,0,0,0.5);
  position: relative; cursor: pointer; transition: transform 0.3s ease, border-color 0.3s;
  background: #000; margin-bottom: 15px;
  flex-shrink: 0;
}
.tg-circle:hover { transform: scale(1.05); border-color: #fff; }
.tg-circle video { width: 100%; height: 100%; object-fit: cover; pointer-events: none; }
.review-author { font-weight: 700; color: #fff; font-family: var(--ff-head); font-size: 1rem; text-align: center; }

.faq-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(100%, 1fr)); gap: 15px; transition: max-height 0.5s ease; }
@media (min-width: 768px) { .faq-grid { grid-template-columns: 1fr 1fr; } }
.faq-item.hidden { display: none; }
.faq-item.fade-in { animation: fadeIn 0.5s forwards; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
.faq-controls { text-align: center; margin-top: 30px; grid-column: 1 / -1; }
details { background: var(--bg-panel); border: 1px solid #222; border-radius: 12px; overflow: hidden; transition: 0.3s; backdrop-filter: blur(5px); }
details[open] { border-color: var(--gold-primary); background: rgba(255,255,255,0.05); }
summary { padding: 16px 20px; cursor: pointer; font-weight: 600; list-style: none; position: relative; font-size: 0.95rem; padding-right: 40px; }
summary::after { content: ''; position: absolute; right: 20px; top: 50%; transform: translateY(-50%); width: 12px; height: 12px; background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23D4AF37' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='12' y1='5' x2='12' y2='19'%3E%3C/line%3E%3Cline x1='5' y1='12' x2='19' y2='12'%3E%3C/line%3E%3C/svg%3E") no-repeat center; }
details[open] summary::after { background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23D4AF37' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='5' y1='12' x2='19' y2='12'%3E%3C/line%3E%3C/svg%3E") no-repeat center; }
details div { padding: 0 20px 20px; color: #aaa; font-size: 0.9rem; line-height: 1.6; }

.gallery-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 10px; }
.gallery-grid img { width: 100%; height: 200px; object-fit: cover; border-radius: 8px; filter: grayscale(30%); transition: 0.5s; cursor: pointer; background: #111; }
.gallery-grid img:hover { filter: grayscale(0); transform: scale(1.05); z-index: 2; }

/* === MODALS & WIDGETS === */
.modal { position: fixed; inset: 0; z-index: 200; background: rgba(0,0,0,0.95); display: none; align-items: center; justify-content: center; backdrop-filter: blur(10px); }
.modal.open { display: flex; }
.close-btn { position: absolute; top: 20px; right: 20px; color: #fff; font-size: 2rem; background: none; border: none; cursor: pointer; z-index: 201; }

.story-viewer { position: fixed; inset: 0; z-index: 9999; background: rgba(0, 0, 0, 0.95); display: flex; align-items: center; justify-content: center; opacity: 0; pointer-events: none; transition: opacity 0.3s; }
.story-viewer.active { opacity: 1; pointer-events: all; }
.story-content { position: relative; max-width: 420px; width: 90vw; max-height: 90vh; aspect-ratio: 9/16; border-radius: 20px; overflow: hidden; border: 1px solid #333; transform: scale(0.9); transition: transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1); }
.story-viewer.active .story-content { transform: scale(1); }
.story-video { width: 100%; height: 100%; object-fit: cover; display: block; }
.story-close { position: absolute; top: 20px; right: 20px; width: 40px; height: 40px; border-radius: 50%; background: rgba(0,0,0,0.5); color: #fff; border: 1px solid rgba(255,255,255,0.2); display: flex; align-items: center; justify-content: center; font-size: 1.5rem; cursor: pointer; z-index: 10; transition: 0.2s; }
.story-close:hover { background: #fff; color: #000; }

</style>
</head>
<body>

<div class="magic-cursor"></div>

<svg style="display: none;">
Â  <filter id="velvet-noise">
Â  Â  <feTurbulence type="fractalNoise" baseFrequency="0.6" numOctaves="3" stitchTiles="stitch" />
Â  Â  <feColorMatrix type="saturate" values="0" />
Â  Â  <feComponentTransfer><feFuncA type="linear" slope="0.4" /></feComponentTransfer>
Â  Â  <feBlend mode="multiply" in2="SourceGraphic" />
Â  </filter>
</svg>

<div class="curtain-wrapper">
Â  <div class="curtain-bg"></div>
Â  <div class="curtain-spotlight"></div>
Â  <div class="curtain-panel left"></div>
Â  <div class="curtain-panel right"></div>
Â  <div class="curtain-content">
Â  Â  <div class="curtain-text">KOSTYUK PROJECT</div>
Â  Â  <div class="curtain-subtext">Premium Magic Show</div>
Â  </div>
</div>

<canvas id="webgl-canvas"></canvas>

<header class="header">
Â  <div class="container nav-flex">
Â  Â  <a href="#" class="logo">KOSTYUK <span>PROJECT</span></a>
Â  Â  <button class="burger" onclick="toggleMenu()">
Â  Â  Â  <svg class="icon-svg" style="width:32px;height:32px;" viewBox="0 0 24 24"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
Â  Â  </button>
Â  </div>
</header>

<div class="mobile-menu" id="mobileMenu">
Â  <a href="afisha.html" class="nav-card gold" onclick="toggleMenu()">
Â  Â  <span>ĞšĞ¾Ñ€Ğ¿Ğ¾Ñ€Ğ°Ñ‚Ğ¸Ğ²Ñ‹ Ğ¸ ĞŸÑ€Ğ°Ğ·Ğ´Ğ½Ğ¸ĞºĞ¸</span>
Â  Â  <h3>ĞšĞĞĞ¦Ğ•Ğ Ğ¢ĞĞ«Ğ• Ğ¨ĞĞ£</h3>
Â  </a>
Â  <div style="height: 20px;"></div>
Â Â 
  Â  <a href="school.html" class="nav-card silver" onclick="toggleMenu()">
Â  Â  <span>ĞĞ±ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ñ Ğ½ÑƒĞ»Ñ</span>
Â  Â  <h3>Ğ¨ĞšĞĞ›Ğ Ğ¤ĞĞšĞ£Ğ¡ĞĞ’</h3>
Â  </a>
</div>

<section id="hero" class="hero">
  Â  <div class="hero-img"></div>
Â  <div class="container">
Â  Â  <div class="hero-content">
Â  Â  Â  <h1 class="hero-title">ĞœĞ°Ğ³Ğ¸Ñ <br><span class="text-gold">Ğ’Ñ‹ÑĞ¾ĞºĞ¾Ğ³Ğ¾ Ğ£Ñ€Ğ¾Ğ²Ğ½Ñ</span></h1>
Â  Â  Â  <p class="hero-desc">ĞŸÑ€ĞµĞ¼Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ ÑˆĞ¾Ñƒ Ğ´Ğ»Ñ Ñ‚ĞµÑ…, ĞºÑ‚Ğ¾ Ğ²Ğ¸Ğ´ĞµĞ» Ğ²ÑÑ‘. Ğ˜Ğ½Ñ‚ĞµĞ»Ğ»ĞµĞºÑ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ¾. Ğ¡Ñ‚Ğ¸Ğ»ÑŒĞ½Ğ¾. Ğ”Ğ¾Ñ€Ğ¾Ğ³Ğ¾.</p>
Â  Â  Â  <div class="hero-btns">
Â  Â  Â  Â  <button class="btn btn-glass" onclick="openVideo()">
Â  Â  Â  Â  Â  <svg class="icon-svg" viewBox="0 0 24 24"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
Â  Â  Â  Â  Â  Ğ¡Ğ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ¼Ğ¾
Â  Â  Â  Â  </button>
Â  Â  Â  </div>
Â  Â  </div>
Â  </div>
</section>

<div class="partners-section">
Â  <div class="container" style="overflow:hidden;">
Â  Â  <p class="text-center" style="color:#666; font-size:0.75rem; margin-bottom:20px; letter-spacing:0.1em; text-transform:uppercase;">ĞĞ°Ğ¼ Ğ´Ğ¾Ğ²ĞµÑ€ÑÑÑ‚</p>
Â  Â  <div class="partners-track">
Â  Â  Â  <img src="images/logo-gazprom.png" class="partner-logo">
Â  Â  Â  <img src="images/logo-chery.png" class="partner-logo">
Â  Â  Â  <img src="images/logo-magnit.png" class="partner-logo">
Â  Â  Â  <img src="images/logo-rostelecom.png" class="partner-logo">
Â  Â  Â  <img src="images/logo-yaroslavl.png" class="partner-logo">
Â  Â  Â  <img src="images/logo-dixy.png" class="partner-logo">
Â  Â  Â  <img src="images/logo-beeline.png" class="partner-logo">
Â  Â  Â  <img src="images/logo-perekrestok.png" class="partner-logo">
Â  Â  Â  <img src="images/logo-megafon.png" class="partner-logo">
Â  Â  Â  <img src="images/logo-danone.png" class="partner-logo">
      Â  Â  Â  <img src="images/logo-gazprom.png" class="partner-logo">
Â  Â  Â  <img src="images/logo-chery.png" class="partner-logo">
Â  Â  Â  <img src="images/logo-magnit.png" class="partner-logo">
Â  Â  Â  <img src="images/logo-rostelecom.png" class="partner-logo">
Â  Â  Â  <img src="images/logo-yaroslavl.png" class="partner-logo">
Â  Â  </div>
Â  </div>
</div>

<section id="formats" class="section-py">
Â  <div class="container">
Â  Â  <h2 class="text-center gs-reveal">Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ñ‹</h2>
Â  Â  <div class="grid-cards">
Â  Â  Â  <div class="card">
Â  Â  Â  Â  <div class="card-icon-wrap"><svg class="icon-svg icon-large" viewBox="0 0 24 24"><path d="M8 21h8m-4-4v4m0-4L3 6a2 2 0 0 1 1.7-3h14.6a2 2 0 0 1 1.7 3l-9 11z"></path></svg></div>
Â  Â  Â  Â  <h3>ĞœĞ¸ĞºÑ€Ğ¾Ğ¼Ğ°Ğ³Ğ¸Ñ</h3>
Â  Â  Â  Â  <span class="card-price">Ğ¾Ñ‚ 13 000 â‚½</span>
Â  Â  Â  Â  <ul><li>Welcome-Ğ·Ğ¾Ğ½Ğ°</li><li>Ğ¤Ğ¾ĞºÑƒÑÑ‹ Ğ² Ñ€ÑƒĞºĞ°Ñ… Ğ³Ğ¾ÑÑ‚ĞµĞ¹</li><li>Ğ›ĞµĞ´Ğ¾ĞºĞ¾Ğ» Ğ´Ğ»Ñ Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ</li></ul>
Â  Â  Â  </div>
Â  Â  Â  <div class="card" style="border-color:var(--gold-dark);">
Â  Â  Â  Â  <div class="card-icon-wrap"><svg class="icon-svg icon-large" viewBox="0 0 24 24"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line></svg></div>
Â  Â  Â  Â  <h3>Ğ¡Ñ†ĞµĞ½Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ ÑˆĞ¾Ñƒ</h3>
Â  Â  Â  Â  <span class="card-price">Ğ¾Ñ‚ 17 500 â‚½</span>
Â  Â  Â  Â  <ul><li>Ğ˜Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ² Ñ Ğ·Ğ°Ğ»Ğ¾Ğ¼</li><li>Ğ§Ñ‚ĞµĞ½Ğ¸Ğµ Ğ¼Ñ‹ÑĞ»ĞµĞ¹</li><li>ĞšĞ¾Ğ¼ĞµĞ´Ğ¸Ñ</li></ul>
Â  Â  Â  </div>
Â  Â  Â  <div class="card">
Â  Â  Â  Â  <div class="card-icon-wrap"><svg class="icon-svg icon-large" viewBox="0 0 24 24"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"></path></svg></div>
Â  Â  Â  Â  <h3>Ğ¨Ğ¾Ñƒ Â«Ğ¡Ğ•ĞšĞ Ğ•Ğ¢Â»</h3>
Â  Â  Â  Â  <span class="card-price">Ğ¾Ñ‚ 150 000 â‚½</span>
Â  Â  Â  Â  <ul><li>ĞŸĞ¾Ğ»Ğ½Ğ¾Ñ†ĞµĞ½Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ†ĞµÑ€Ñ‚</li><li>ĞÑ‚Ğ¼Ğ¾ÑÑ„ĞµÑ€Ğ½Ñ‹Ğ¹ ÑĞ¿ĞµĞºÑ‚Ğ°ĞºĞ»ÑŒ</li><li>Ğ”Ğ»Ñ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ñ… Ğ·Ğ°Ğ»Ğ¾Ğ²</li></ul>
Â  Â  Â  </div>
Â  Â  </div>
Â  </div>
</section>

<section id="calc" class="section-py">
Â  <div class="container gs-reveal" id="calc">
Â  Â  <h2 class="text-center">ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€</h2>
Â  Â  <div class="wizard-box">
Â  Â  Â  <div class="wizard-progress"><div class="progress-bar" id="wizProgress"></div></div>
Â  Â  Â  <div class="wizard-step active" id="step1">
Â  Â  Â  Â  <h3 class="step-title">1. Ğ“Ğ´Ğµ Ğ¸ ĞºĞ¾Ğ³Ğ´Ğ°?</h3>
Â  Â  Â  Â  <label>Ğ ĞµĞ³Ğ¸Ğ¾Ğ½</label>
Â  Â  Â  Â  <select id="area" class="input-field" onchange="updateCities()"><option value="" disabled selected>Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ¾Ğ±Ğ»Ğ°ÑÑ‚ÑŒ</option></select>
Â  Â  Â  Â  <label>Ğ“Ğ¾Ñ€Ğ¾Ğ´</label>
Â  Â  Â  Â  <select id="city" class="input-field" disabled><option>Ğ¡Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ğ¾Ğ±Ğ»Ğ°ÑÑ‚ÑŒ</option></select>
Â  Â  Â  Â  <label>Ğ”Ğ°Ñ‚Ğ°</label>
Â  Â  Â  Â  <input type="date" id="date" class="input-field">
Â  Â  Â  Â  <div class="wiz-controls"><button class="btn btn-primary" onclick="nextStep(2)">Ğ”Ğ°Ğ»ĞµĞµ â†’</button></div>
Â  Â  Â  </div>
Â  Â  Â  <div class="wizard-step" id="step2">
Â  Â  Â  Â  <h3 class="step-title">2. Ğ£ÑĞ»ÑƒĞ³Ğ¸</h3>
Â  Â  Â  Â  <div id="svcOptions" class="svc-grid"></div>
Â  Â  Â  Â  <label style="margin-top:20px;">Ğ“Ğ¾ÑÑ‚ĞµĞ¹: <span id="gLabel" style="color:var(--gold-primary)">50</span></label>
Â  Â  Â  Â  <input type="range" id="gRange" min="10" max="300" value="50" oninput="document.getElementById('gLabel').innerText=this.value" class="input-field" style="height:6px; padding:0">
Â  Â  Â  Â  <div class="wiz-controls"><button class="btn btn-glass" onclick="nextStep(1)">ĞĞ°Ğ·Ğ°Ğ´</button><button class="btn btn-primary" onclick="calcResult()">Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ</button></div>
Â  Â  Â  </div>
Â  Â  Â  <div class="wizard-step" id="step3">
Â  Â  Â  Â  <h3 class="step-title text-center">Ğ¡Ğ¼ĞµÑ‚Ğ°</h3>
Â  Â  Â  Â  <div class="receipt">
Â  Â  Â  Â  Â  <div class="receipt-row"><span>ĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ°</span><strong id="rSvc" style="text-align:right">...</strong></div>
Â  Â  Â  Â  Â  <div class="receipt-row"><span>Ğ›Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸ĞºĞ°</span><span id="rRoad">0 â‚½</span></div>
Â  Â  Â  Â  Â  <div class="receipt-row"><span>Ğ“Ğ¾ÑÑ‚Ğ¸</span><span id="rGuest">0 â‚½</span></div>
Â  Â  Â  Â  Â  <div class="receipt-row"><span>Ğ¡ĞµĞ·Ğ¾Ğ½Ğ½Ñ‹Ğ¹ ĞºĞ¾ÑÑ„.</span><span id="rCoef">1.0</span></div>
Â  Â  Â  Â  Â  <div class="receipt-row" style="color:var(--gold-primary)"><span>Ğ¡ĞºĞ¸Ğ´ĞºĞ°</span><span id="rDisc">0 â‚½</span></div>
Â  Â  Â  Â  Â  <div id="bonusContainer"></div>
Â  Â  Â  Â  Â  <span class="receipt-total" id="rTotal">0 â‚½</span>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="wiz-controls"><a href="#order" class="btn btn-primary" style="width:100%">Ğ—Ğ°Ğ±Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ</a><button class="btn btn-glass" onclick="nextStep(2)">Ğ˜Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ</button></div>
Â  Â  Â  </div>
Â  Â  </div>
Â  </div>
</section>

<section class="section-py game-section">
Â  <div class="container gs-reveal">
Â  Â  <h2>Ğ˜ÑĞ¿Ñ‹Ñ‚Ğ°Ğ¹ ÑƒĞ´Ğ°Ñ‡Ñƒ</h2>
Â  Â  <p style="color:#888;">ĞĞ°Ğ¹Ğ´Ğ¸ <span style="color:#fff">Ğ¢ÑƒĞ·Ğ° ĞŸĞ¸Ğº</span> Ğ¸ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸ ÑĞºĞ¸Ğ´ĞºÑƒ.</p>
Â  Â  <div class="deck" id="gameDeck"></div>
Â  Â  <div id="gameMsg" style="min-height:24px; color:var(--gold-light); font-weight:bold;"></div>
Â  </div>
</section>

<section class="section-py">
Â  <div class="container gs-reveal">
Â  Â  <h2 class="text-center">ĞÑ‚Ğ·Ñ‹Ğ²Ñ‹</h2>
Â  Â  <div class="reviews-grid">
Â  Â  Â  <div class="tg-review-item"><div class="tg-circle" onclick="openReview(this)"><video src="https://assets.mixkit.co/videos/preview/mixkit-man-dancing-under-the-lights-1234-large.mp4" muted loop playsinline></video></div><div class="review-author">ĞĞ»ĞµĞºÑĞ°Ğ½Ğ´Ñ€</div></div>
Â  Â  Â  <div class="tg-review-item"><div class="tg-circle" onclick="openReview(this)"><video src="https://assets.mixkit.co/videos/preview/mixkit-woman-holding-a-glass-of-wine-at-a-dinner-party-4549-large.mp4" muted loop playsinline></video></div><div class="review-author">ĞœĞ°Ñ€Ğ¸Ñ</div></div>
Â  Â  </div>
Â  </div>
</section>

<section id="gallery" class="section-py">
Â  <div class="container gs-reveal">
Â  Â  <h2 class="text-center">Ğ“Ğ°Ğ»ĞµÑ€ĞµÑ</h2>
Â  Â  <div class="gallery-grid" id="galGrid"></div>
Â  </div>
</section>

<section class="section-py">
Â  <div class="container gs-reveal">
Â  Â  <h2 class="text-center">Ğ’Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹</h2>
Â  Â  <div class="faq-grid" id="faqContainer"></div>
Â  </div>
</section>

<section id="order" class="section-py">
Â  <div class="container gs-reveal" style="max-width:500px; text-align:center;">
Â  Â  <h2 style="margin-bottom:20px;">Ğ¡Ğ²ÑĞ·ÑŒ</h2>
Â  Â  <form id="tgForm">
Â  Â  Â  <input type="text" name="name" placeholder="Ğ’Ğ°ÑˆĞµ Ğ˜Ğ¼Ñ" class="input-field" required>
Â  Â  Â  <input type="tel" name="phone" placeholder="Ğ¢ĞµĞ»ĞµÑ„Ğ¾Ğ½" class="input-field" required>
Â  Â  Â  <textarea name="msg" placeholder="ĞšĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¹ / Ğ”Ğ°Ñ‚Ğ°" class="input-field" rows="3"></textarea>
Â  Â  Â  <input type="hidden" name="bonuses" id="formBonuses">
Â  Â  Â  <input type="hidden" name="services" id="formServices">
Â  Â  Â  <input type="text" name="website" id="hp_website" tabindex="-1" autocomplete="off" style="position:absolute;left:-9999px;height:0;width:0;opacity:0" aria-hidden="true">
Â  Â  Â  <button class="btn btn-primary" style="width:100%">ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ</button>
Â  Â  </form>
Â  </div>
</section>

<footer style="text-align:center; padding:40px 0; color:#444; font-size:0.8rem;">Â© 2025 Ğ”Ğ¼Ğ¸Ñ‚Ñ€Ğ¸Ğ¹ ĞšĞ¾ÑÑ‚ÑĞº</footer>

<div id="modalVideo" class="modal">
Â  <div class="modal-content" style="width:800px; aspect-ratio:16/9; background:#000; padding:0; border:none;">
Â  Â  <button class="close-btn" onclick="closeVideo()" style="right:10px; top:10px; z-index:10; background:rgba(0,0,0,0.5); width:30px; height:30px; border-radius:50%;">Ã—</button>
Â  Â  <div id="vidContainer" style="width:100%; height:100%"></div>
Â  </div>
</div>

<div class="story-viewer" id="storyViewer" onclick="closeReview()">
Â  <div class="story-content" onclick="event.stopPropagation()">
Â  Â  <button class="story-close" onclick="closeReview()">Ã—</button>
Â  Â  <video id="storyVideo" class="story-video" src="" playsinline loop></video>
Â  </div>
</div>

<div class="modal" id="modalImg" onclick="this.classList.remove('open')">
Â  <button class="close-btn">Ã—</button>
Â  <img id="lbImg" src="" style="max-width:95vw; max-height:90vh; border-radius:8px;">
</div>

<script>
/* === CONTENT GENERATION === */
window.addEventListener("DOMContentLoaded", () => {
Â Â 
Â  // 1. Ğ¡Ğ ĞĞ—Ğ£ Ğ¡ĞšĞ ĞĞ›Ğ›Ğ˜Ğœ ĞĞĞ’Ğ•Ğ Ğ¥
Â  if (history.scrollRestoration) history.scrollRestoration = 'manual';
Â  window.scrollTo(0, 0);

Â  // 2. ĞĞĞ˜ĞœĞĞ¦Ğ˜Ğ¯
Â  const tl = gsap.timeline({
Â  Â  Â  onComplete: () => {
Â  Â  Â  Â  Â  document.body.classList.add('loaded'); // Ğ Ğ°Ğ·Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€ÑƒĞµĞ¼ ÑĞºÑ€Ğ¾Ğ»Ğ»
Â  Â  Â  Â  Â  const c = document.querySelector('.curtain-wrapper');
Â  Â  Â  Â  Â  if(c) {
Â  Â  Â  Â  Â  Â  Â c.style.opacity = 0;
Â  Â  Â  Â  Â  Â  Â setTimeout(() => c.style.display = 'none', 1000);
Â  Â  Â  Â  Â  }
Â  Â  Â  }
Â  });
Â  tl.to(".curtain-text", { opacity: 1, scale: 1, duration: 1.5, ease: "power2.out" })
Â  Â  .to(".curtain-subtext", { opacity: 1, y: 0, duration: 1, ease: "power2.out" }, "-=0.5")
Â  Â  .to(".curtain-panel.left", { xPercent: -100, duration: 2, ease: "power2.inOut" }, "+=0.5")
Â  Â  .to(".curtain-panel.right", { xPercent: 100, duration: 2, ease: "power2.inOut" }, "<")
Â  Â  .to(".curtain-content", { opacity: 0, scale: 1.2, duration: 1.5, ease: "power2.in" }, "<")
Â  Â  .to(".curtain-bg", { opacity: 0, duration: 1 }, "-=1.5")
Â  Â  .to({}, { duration: 2, onUpdate: function() { if(typeof heroParticlesMaterial !== 'undefined' && heroParticlesMaterial) { gsap.to(heroParticlesMaterial.uniforms.uProgress, { value: 1, duration: 4, ease: "power2.out" }); } } }, "-=2.0")
Â  Â  .from(".hero-title", { y: 100, opacity: 0, duration: 1, ease: "power3.out" }, "-=1.0")
Â  Â  .from(".hero-desc", { y: 30, opacity: 0, duration: 0.8 }, "-=0.5")
Â  Â  .from(".hero-btns", { y: 30, opacity: 0, duration: 0.8 }, "-=0.5");

Â  // INIT ALL
Â  initThreeJS();
Â  initHeroParticles();
Â  updateServices();
Â  initGame();
Â Â 
Â  // FAQ
Â  const faqData = [
Â  Â  Â  {q: "Ğ—Ğ° ÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ğ±Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ?", a: "ĞĞ±Ñ‹Ñ‡Ğ½Ğ¾ Ğ·Ğ° 1â€“2 Ğ½ĞµĞ´ĞµĞ»Ğ¸."},
Â  Â  Â  {q: "Ğ¡ĞºĞ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ğ¸Ñ‚ÑÑ ÑˆĞ¾Ñƒ?", a: "ĞÑ‚ 20 Ğ¼Ğ¸Ğ½ Ğ´Ğ¾ 2 Ñ‡Ğ°ÑĞ¾Ğ²."},
Â  Â  Â  {q: "Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚Ğµ Ğ¿Ğ¾ Ğ´Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€Ñƒ?", a: "Ğ”Ğ°, Ğ˜ĞŸ/Ğ¡Ğ°Ğ¼Ğ¾Ğ·Ğ°Ğ½ÑÑ‚Ğ¾ÑÑ‚ÑŒ."},
Â  Â  Â  {q: "Ğ’Ñ‹ĞµĞ·Ğ¶Ğ°ĞµÑ‚Ğµ Ğ² Ğ¾Ğ±Ğ»Ğ°ÑÑ‚ÑŒ?", a: "Ğ”Ğ°, ÑƒÑĞ»Ğ¾Ğ²Ğ¸Ñ Ğ² ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€Ğµ."},
Â  Â  Â  {q: "ĞÑƒĞ¶Ğ½Ğ° Ğ»Ğ¸ ÑÑ†ĞµĞ½Ğ°?", a: "ĞĞµ Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾, Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµĞ¼ Ğ¸ Ğ² welcome-Ğ·Ğ¾Ğ½Ğµ."},
Â  Â  Â  {q: "ĞœĞ¾Ğ¶Ğ½Ğ¾ Ñ Ğ´ĞµÑ‚ÑŒĞ¼Ğ¸?", a: "Ğ”Ğ°, ĞµÑÑ‚ÑŒ Ğ´ĞµÑ‚ÑĞºĞ¸Ğµ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹."}
Â  ];
Â  document.getElementById('faqContainer').innerHTML = faqData.map((f,i) =>Â 
Â  Â  Â  `<details class="faq-item ${i>=6?'hidden':''}"><summary>${f.q}</summary><div>${f.a}</div></details>`
Â  ).join('') + (faqData.length>6 ? '<div class="faq-controls"><button class="btn btn-glass" onclick="showAllFaq(this)">ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ²ÑĞµ</button></div>' : '');

Â  // Gallery
Â  const galGrid = document.getElementById('galGrid');
Â  for(let i=1; i<=6; i++){
Â  Â  Â  const img = document.createElement('img');Â 
Â  Â  Â  img.src = `images/${i}.jpg`;
Â  Â  Â  img.onerror = () => img.src = `https://via.placeholder.com/300x200/111/333?text=Photo+${i}`;
Â  Â  Â  img.onclick = () => { document.getElementById('lbImg').src=img.src; document.getElementById('modalImg').classList.add('open'); };
Â  Â  Â  galGrid.appendChild(img);
Â  }
Â Â 
Â  // Animations Scroll
Â  gsap.utils.toArray(".gs-reveal").forEach(elem => {
Â  Â  Â  gsap.from(elem, { scrollTrigger: { trigger: elem, start: "top 85%" }, y: 40, opacity: 0, duration: 0.8 });
Â  });
});

/* === NAVIGATION === */
function toggleMenu(){Â 
Â  Â  document.getElementById('mobileMenu').classList.toggle('open');Â 
Â  Â  document.querySelector('.burger').classList.toggle('active');Â 
}
window.showAllFaq = function(btn) {
Â  document.querySelectorAll('.faq-item.hidden').forEach(item => {
Â  Â  item.classList.remove('hidden'); item.classList.add('fade-in');
Â  });
Â  btn.style.display = 'none';
}

/* === MODALS === */
function openVideo(){Â 
Â  Â  const m = document.getElementById('modalVideo');
Â  Â  m.classList.add('open');Â 
Â  Â  document.getElementById('vidContainer').innerHTML = '<iframe src="https://rutube.ru/play/embed/a692a6ad3b922abc4cfad5be5898431b?autoplay=1" width="100%" height="100%" frameborder="0" allowfullscreen></iframe>';Â 
}
function closeVideo(){Â 
Â  Â  const m = document.getElementById('modalVideo');
Â  Â  m.classList.remove('open');Â 
Â  Â  document.getElementById('vidContainer').innerHTML = '';Â 
}
function openReview(el) {
Â  Â  const src = el.querySelector('video').src;
Â  Â  const v = document.getElementById('storyVideo');
Â  Â  v.src = src;Â 
Â  Â  document.getElementById('storyViewer').classList.add('active');
Â  Â  v.play();
}
function closeReview() {
Â  Â  document.getElementById('storyViewer').classList.remove('active');
Â  Â  document.getElementById('storyVideo').pause();
}

/* === CALCULATOR === */
const travel={ "Ğ’Ğ¾Ğ»Ğ¾Ğ³Ğ¾Ğ´ÑĞºĞ°Ñ":{fee:9000,cities:{Ğ’Ğ¾Ğ»Ğ¾Ğ³Ğ´Ğ°:9000,Ğ§ĞµÑ€ĞµĞ¿Ğ¾Ğ²ĞµÑ†:15000,Ğ¡Ğ¾ĞºĞ¾Ğ»:12000}}, "Ğ’Ğ»Ğ°Ğ´Ğ¸Ğ¼Ğ¸Ñ€ÑĞºĞ°Ñ":{fee:10000,cities:{Ğ’Ğ»Ğ°Ğ´Ğ¸Ğ¼Ğ¸Ñ€:10000,ĞšĞ¾Ğ²Ñ€Ğ¾Ğ²:10000,ĞœÑƒÑ€Ğ¾Ğ¼:17000,"Ğ“ÑƒÑÑŒ Ñ…Ñ€ÑƒÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹":13500}}, "Ğ˜Ğ²Ğ°Ğ½Ğ¾Ğ²ÑĞºĞ°Ñ":{fee:5000,cities:{Ğ˜Ğ²Ğ°Ğ½Ğ¾Ğ²Ğ¾:2000,ĞšĞ¸Ğ½ĞµÑˆĞ¼Ğ°:3500,Ğ¨ÑƒÑ:3000,Ğ¢ĞµĞ¹ĞºĞ¾Ğ²Ğ¾:2500}}, "ĞšĞ¾ÑÑ‚Ñ€Ğ¾Ğ¼ÑĞºĞ°Ñ":{fee:3000,cities:{ĞšĞ¾ÑÑ‚Ñ€Ğ¾Ğ¼Ğ°:2000,Ğ¨Ğ°Ñ€ÑŒÑ:6000,ĞĞµÑ€ĞµÑ…Ñ‚Ğ°:2000}}, "Ğ¯Ñ€Ğ¾ÑĞ»Ğ°Ğ²ÑĞºĞ°Ñ":{fee:1000,cities:{Ğ¯Ñ€Ğ¾ÑĞ»Ğ°Ğ²Ğ»ÑŒ:0,Ğ Ñ‹Ğ±Ğ¸Ğ½ÑĞº:2000,Ğ¢ÑƒÑ‚Ğ°ĞµĞ²:2000,Ğ£Ğ³Ğ»Ğ¸Ñ‡:2000,Ğ Ğ¾ÑÑ‚Ğ¾Ğ²:2000}} };
const services={ close: { "ĞœĞ¸ĞºÑ€Ğ¾Ğ¼Ğ°Ğ³Ğ¸Ñ": 13000 }, std: { "Ğ¨Ğ¾Ñƒ": 17500 }, conc: { "ĞšĞ¾Ğ½Ñ†ĞµÑ€Ñ‚": 150000 } };
const catNames = { close: "ĞœĞ¸ĞºÑ€Ğ¾Ğ¼Ğ°Ğ³Ğ¸Ñ", std: "Ğ¨Ğ¾Ñƒ", conc: "ĞšĞ¾Ğ½Ñ†ĞµÑ€Ñ‚" };
const els={area:document.getElementById('area'),city:document.getElementById('city'),svcGrid:document.getElementById('svcOptions'),date:document.getElementById('date'),gRange:document.getElementById('gRange')};
Object.keys(travel).forEach(k=>els.area.add(new Option(k,k)));

function updateCities(){els.city.innerHTML='<option disabled selected>Ğ“Ğ¾Ñ€Ğ¾Ğ´</option>';els.city.disabled=false;Object.keys(travel[els.area.value].cities).forEach(c=>els.city.add(new Option(c,c)));}

let selectedServices = [];
function updateServices(){
Â  const grid = document.getElementById('svcOptions');
Â  grid.innerHTML='';
Â  Object.keys(services).forEach(catKey => {
Â  Â  const wrapper = document.createElement('div'); wrapper.className = 'svc-category-group';
Â  Â  const header = document.createElement('div'); header.className = 'svc-group-title'; header.innerText = catNames[catKey]; wrapper.appendChild(header);
Â  Â  const g = document.createElement('div'); g.className = 'svc-grid';
Â  Â  Object.keys(services[catKey]).forEach(sName => {
Â  Â  Â  const btn = document.createElement('div'); btn.className = 'svc-btn';
Â  Â  Â  btn.innerHTML = `<span class="svc-name">${sName}</span><span class="svc-cost">${services[catKey][sName].toLocaleString()} â‚½</span>`;
Â  Â  Â  btn.onclick = () => toggleService(btn, sName, services[catKey][sName]);
Â  Â  Â  g.appendChild(btn);
Â  Â  });
Â  Â  wrapper.appendChild(g); grid.appendChild(wrapper);
Â  });
}
function toggleService(btn, name, price) {
Â  const idx = selectedServices.findIndex(s => s.name === name);
Â  if (idx > -1) { selectedServices.splice(idx, 1); btn.classList.remove('selected'); }Â 
Â  else { selectedServices.push({name, price}); btn.classList.add('selected'); }
}
function nextStep(n){
Â  if(n===2 && (!els.area.value||!els.city.value)){alert('Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ€ĞµĞ³Ğ¸Ğ¾Ğ½ Ğ¸ Ğ³Ğ¾Ñ€Ğ¾Ğ´');return;}
Â  if(n===2 && els.date.value) { if (new Date(els.date.value) <= new Date().setHours(0,0,0,0)) { alert('Ğ‘Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ñ Ğ·Ğ°Ğ²Ñ‚Ñ€Ğ°ÑˆĞ½ĞµĞ³Ğ¾ Ğ´Ğ½Ñ.'); return; } }
Â  document.querySelectorAll('.wizard-step').forEach(e=>e.classList.remove('active'));
Â  document.getElementById('step'+n).classList.add('active');
Â  document.getElementById('wizProgress').style.width=(n*33)+'%';
Â  if (n===3) document.getElementById('calc').scrollIntoView({behavior: 'smooth'});
}
function calcResult(){
Â  if (selectedServices.length === 0) { alert('Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ…Ğ¾Ñ‚Ñ Ğ±Ñ‹ Ğ¾Ğ´Ğ½Ñƒ ÑƒÑĞ»ÑƒĞ³Ñƒ'); return; }
Â  let base = selectedServices.reduce((sum, s) => sum + s.price, 0);
Â  const road = travel[els.area.value].cities[els.city.value];
Â  const g = parseInt(els.gRange.value);Â 
Â  const total = base + road + (g>50 ? (g-50)*50 : 0);
Â  document.getElementById('rSvc').innerHTML = selectedServices.map(s => s.name).join('<br>');
Â  document.getElementById('rRoad').innerText=road.toLocaleString()+' â‚½';
Â  document.getElementById('rGuest').innerText=(g>50 ? (g-50)*50 : 0).toLocaleString()+' â‚½';
Â Â 
Â  // Bonuses
Â  const bContainer = document.getElementById('bonusContainer'); bContainer.innerHTML = '';Â 
Â  if (total >= 35000) bContainer.innerHTML += `<div class="bonus-item bonus-tier-3"><div class="bonus-text"><strong>Ğ­ĞºÑÑ‚Ñ€Ğ¸Ğ¼</strong>ĞĞ¿Ğ°ÑĞ½Ñ‹Ğ¹ Ñ‚Ñ€ÑĞº Ğ² Ğ¿Ğ¾Ğ´Ğ°Ñ€Ğ¾Ğº!</div><div class="gift-badge">Ğ‘Ğ•Ğ¡ĞŸĞ›ĞĞ¢ĞĞ</div></div>`;
Â  if (total >= 15000) bContainer.innerHTML += `<div class="bonus-item bonus-tier-1"><div class="bonus-text"><strong>Ğ‘Ğ¾Ğ½ÑƒÑ</strong>2 Ğ‘Ğ¸Ğ»ĞµÑ‚Ğ° Ğ½Ğ° ÑˆĞ¾Ñƒ</div><div class="gift-badge">Ğ‘Ğ•Ğ¡ĞŸĞ›ĞĞ¢ĞĞ</div></div>`;
Â Â 
Â  document.getElementById('rTotal').innerText=total.toLocaleString()+' â‚½';
Â  nextStep(3);
}

/* === GAME === */
function initGame() {
Â  Â  const deck = document.getElementById('gameDeck');
Â  Â  const msg = document.getElementById('gameMsg');
Â  Â  if (!deck) return;
Â  Â  deck.innerHTML = '';
Â  Â Â 
Â  Â  // Check Cooldown
Â  Â  const lastPlayed = parseInt(localStorage.getItem('game_timestamp')) || 0;
Â  Â  const now = Date.now();
Â  Â  const cooldown = 24 * 60 * 60 * 1000;
Â  Â Â 
Â  Â  if (now - lastPlayed < cooldown) {
Â  Â  Â  Â  const hoursLeft = Math.ceil((cooldown - (now - lastPlayed)) / (1000 * 60 * 60));
Â  Â  Â  Â  deck.innerHTML = `<div style="padding:20px; border:1px solid #333; border-radius:10px;"><h3>ĞŸĞ¾Ğ¿Ñ‹Ñ‚ĞºĞ° Ğ¿Ğ¾Ñ‚Ñ€Ğ°Ñ‡ĞµĞ½Ğ°</h3><p style="color:#888;">ĞŸÑ€Ğ¸Ñ…Ğ¾Ğ´Ğ¸Ñ‚Ğµ Ñ‡ĞµÑ€ĞµĞ· ${hoursLeft} Ñ‡.</p></div>`;
Â  Â  Â  Â  return;
Â  Â  }

Â  Â  const winIdx = Math.floor(Math.random() * 3);
Â  Â  for (let i = 0; i < 3; i++) {
Â  Â  Â  Â  const isWin = (i === winIdx);
Â  Â  Â  Â  const card = document.createElement('div'); card.className = 'card-play';
Â  Â  Â  Â  card.innerHTML = `<div class="face back"></div><div class="face front" style="color:#000">${isWin ? 'Aâ™ ' : 'Jâ™¥'}</div>`;
Â  Â  Â  Â  card.onclick = () => {
Â  Â  Â  Â  Â  Â  if (deck.classList.contains('played')) return;
Â  Â  Â  Â  Â  Â  deck.classList.add('played');
Â  Â  Â  Â  Â  Â  localStorage.setItem('game_timestamp', Date.now());
Â  Â  Â  Â  Â  Â  document.querySelectorAll('.card-play').forEach(el => el.classList.add('flipped'));
Â  Â  Â  Â  Â  Â  if (isWin) { msg.innerText = 'ĞŸĞĞ‘Ğ•Ğ”Ğ! Ğ¡ĞºĞ¸Ğ´ĞºĞ° 20%'; localStorage.setItem('game_win', 'true'); }Â 
Â  Â  Â  Â  Â  Â  else { msg.innerText = 'Ğ£Ğ²Ñ‹, Ğ¿Ğ¾Ğ²ĞµĞ·ĞµÑ‚ Ğ² Ğ»ÑĞ±Ğ²Ğ¸.'; localStorage.setItem('game_win', 'false'); }
Â  Â  Â  Â  };
Â  Â  Â  Â  deck.appendChild(card);
Â  Â  }
}

/* === TELEGRAM === */
const TG_TOKEN = "7838972787:AAHaLNVe6xqEnzE5qy5Uh2TwSb66LWYIUhI";
const CHAT_ID = 'Ğ’Ğ¡Ğ¢ĞĞ’Ğ¬_Ğ¡Ğ®Ğ”Ğ_Ğ¦Ğ˜Ğ¤Ğ Ğ«_CHAT_ID';Â 

document.getElementById('tgForm').onsubmit = async (e) => {
Â  Â  e.preventDefault();
Â  Â  const btn = e.target.querySelector('button');
Â  Â  btn.innerText = 'ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ°...'; btn.disabled = true;
Â  Â  const fData = new FormData(e.target);
Â  Â  const text = `ğŸ”¥ Ğ—Ğ°ÑĞ²ĞºĞ°: ${fData.get('name')} | ${fData.get('phone')}`;
Â  Â  try {
Â  Â  Â  Â  await fetch(`https://api.telegram.org/bot${TG_TOKEN}/sendMessage`, {
Â  Â  Â  Â  Â  Â  method: 'POST', headers: {'Content-Type': 'application/json'},
Â  Â  Â  Â  Â  Â  body: JSON.stringify({ chat_id: CHAT_ID, text: text })
Â  Â  Â  Â  });
Â  Â  Â  Â  btn.innerText = 'Ğ£ÑĞ¿ĞµÑˆĞ½Ğ¾!'; btn.style.background = '#28a745'; e.target.reset();
Â  Â  } catch (err) { alert('ĞÑˆĞ¸Ğ±ĞºĞ°'); btn.disabled = false; }
};

/* === THREE.JS PARTICLES === */
let heroParticlesMaterial;
function initHeroParticles() {
Â  const container = document.getElementById('hero-particles-container'); if (!container) return;
Â  const scene = new THREE.Scene();
Â  const width = container.offsetWidth; const height = container.offsetHeight;
Â  const camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000); camera.position.z = 100;
Â  const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
Â  renderer.setSize(width, height); renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
Â  container.appendChild(renderer.domElement);
Â Â 
Â  const img = new Image();Â 
Â  img.crossOrigin = "Anonymous";Â 
Â  img.src = 'images/hero-portrait.png';Â 
Â Â 
Â  img.onload = () => {
Â  Â  const imageCanvas = document.createElement('canvas'); const ctx = imageCanvas.getContext('2d');
Â  Â  const particleDensity = window.innerWidth < 768 ? 6 : 4;
Â  Â  const iw = img.width; const ih = img.height;
Â  Â  imageCanvas.width = iw; imageCanvas.height = ih;
Â  Â  ctx.drawImage(img, 0, 0); const data = ctx.getImageData(0, 0, iw, ih).data;
Â  Â  const geometry = new THREE.BufferGeometry();
Â  Â  const positions = []; const colors = []; const randoms = [];
Â  Â  const ratio = window.innerWidth < 768 ? 0.15 : 0.25;Â 
Â  Â  for (let y = 0; y < ih; y += particleDensity) {
Â  Â  Â  for (let x = 0; x < iw; x += particleDensity) {
Â  Â  Â  Â  const i = (y * iw + x) * 4;
Â  Â  Â  Â  const r = data[i] / 255; const g = data[i + 1] / 255; const b = data[i + 2] / 255; const a = data[i + 3];
Â  Â  Â  Â  if (a > 20 && (r+g+b) > 0.1) {
Â  Â  Â  Â  Â  const px = (x - iw / 2) * ratio; const py = -(y - ih / 2) * ratio - 10;
Â  Â  Â  Â  Â  positions.push(px, py, 0); colors.push(r, g, b);
Â  Â  Â  Â  Â  randoms.push((Math.random()-0.5)*400, (Math.random()-0.5)*400, (Math.random()-0.5)*400);
Â  Â  Â  Â  }
Â  Â  Â  }
Â  Â  }
Â  Â  geometry.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));
Â  Â  geometry.setAttribute('color', new THREE.Float32BufferAttribute(colors, 3));
Â  Â  geometry.setAttribute('aRandom', new THREE.Float32BufferAttribute(randoms, 3));
Â  Â  heroParticlesMaterial = new THREE.ShaderMaterial({
Â  Â  Â  vertexShader: `uniform float uTime; uniform float uProgress; attribute vec3 aRandom; varying vec3 vColor; void main() { vColor = color; vec3 pos = mix(aRandom, position, uProgress); pos.x += sin(uTime * 2.0 + position.y) * 0.5 * uProgress; pos.z += cos(uTime * 1.5 + position.x) * 0.5 * uProgress; vec4 mvPosition = modelViewMatrix * vec4(pos, 1.0); gl_PointSize = (3.0 * uProgress + 1.0) * (50.0 / -mvPosition.z); gl_Position = projectionMatrix * mvPosition; }`,
Â  Â  Â  fragmentShader: `varying vec3 vColor; void main() { float dist = length(gl_PointCoord - vec2(0.5)); if (dist > 0.5) discard; gl_FragColor = vec4(vColor, 1.0); }`,
Â  Â  Â  uniforms: { uTime: { value: 0 }, uProgress: { value: 0 } },
Â  Â  Â  transparent: true, depthWrite: false, blending: THREE.AdditiveBlending
Â  Â  });
Â  Â  const particles = new THREE.Points(geometry, heroParticlesMaterial);
Â  Â  if(window.innerWidth > 768) particles.position.x = 25; else particles.position.y = 10;
Â  Â  scene.add(particles);
Â  Â  const clock = new THREE.Clock();
Â  Â  function animate() { requestAnimationFrame(animate); const time = clock.getElapsedTime(); heroParticlesMaterial.uniforms.uTime.value = time; renderer.render(scene, camera); }
Â  Â  animate();
Â  };
Â  window.addEventListener('resize', () => { const w = container.offsetWidth; const h = container.offsetHeight; renderer.setSize(w, h); camera.aspect = w / h; camera.updateProjectionMatrix(); });
}
initHeroParticles();

/* === BACKGROUND PARTICLES (Original) === */
const initThreeJS = () => {
Â  const canvas = document.querySelector('#webgl-canvas');
Â  const scene = new THREE.Scene(); scene.fog = new THREE.FogExp2(0x000000, 0.001);
Â  const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000); camera.position.z = 10;
Â  const renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true, antialias: true });
Â  renderer.setSize(window.innerWidth, window.innerHeight); renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
Â  const isMobile = window.innerWidth < 768; const count = isMobile ? 800 : 3000;
Â  const particlesGeo = new THREE.BufferGeometry(); const posArray = new Float32Array(count * 3);
Â  for(let i=0; i<count*3; i++) posArray[i] = (Math.random() - 0.5) * 40;
Â  particlesGeo.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
Â  const material = new THREE.PointsMaterial({ size: 0.05, color: 0xD4AF37, transparent: true, opacity: 0.8 });
Â  const particlesMesh = new THREE.Points(particlesGeo, material); scene.add(particlesMesh);
Â  let mouseX = 0; let mouseY = 0;
Â  document.addEventListener('mousemove', (event) => { mouseX = event.clientX - window.innerWidth / 2; mouseY = event.clientY - window.innerHeight / 2; });
Â  const clock = new THREE.Clock();
Â  const animate = () => { const elapsedTime = clock.getElapsedTime(); particlesMesh.rotation.y += 0.05 * (mouseX * 0.001 - particlesMesh.rotation.y); particlesMesh.rotation.x += 0.05 * (mouseY * 0.001 - particlesMesh.rotation.x); particlesMesh.rotation.z = elapsedTime * 0.02; renderer.render(scene, camera); requestAnimationFrame(animate); };
Â  animate();
Â  window.addEventListener('resize', () => { camera.aspect = window.innerWidth / window.innerHeight; camera.updateProjectionMatrix(); renderer.setSize(window.innerWidth, window.innerHeight); });
};

/* === INPUT MASK === */
document.querySelectorAll('input[type="tel"]').forEach(input => {
Â  input.addEventListener('input', (e) => {
Â  Â  let x = e.target.value.replace(/\D/g, '').match(/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/);
Â  Â  if (!x[2] && x[1] !== '') { e.target.value = '+7 (' + x[1]; }
Â  Â  else { e.target.value = !x[2] ? x[1] : '+7 (' + x[2] + (x[3] ? ') ' + x[3] : '') + (x[4] ? '-' + x[4] : '') + (x[5] ? '-' + x[5] : ''); }
Â  });
});
</script>

<script type="text/javascript">
Â  (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
Â  m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
Â  k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
Â  (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
Â  ym(104290205, "init", { clickmap:true, trackLinks:true, accurateTrackBounce:true, webvisor:true, ecommerce:"dataLayer" });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/104290205" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

</body>
</html>
