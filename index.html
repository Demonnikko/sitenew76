<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Kostyuk Project | Premium Magic</title>

  <meta name="description" content="Премиальное шоу иллюзиониста Дмитрия Костюка.">
  <meta name="theme-color" content="#050505">

  <link rel="preload" as="image" href="images/hero-portrait.png">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Manrope:wght@300;400;600;800&family=Cormorant+Garamond:wght@600;700&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>

  <div class="magic-cursor"></div>

  <!-- PRELOADER / CURTAIN -->
  <div class="curtain-wrapper" id="curtain">
    <div class="curtain-bg"></div>
    <div class="curtain-panel left"></div>
    <div class="curtain-panel right"></div>
    <div class="curtain-content">
      <div class="curtain-text">KOSTYUK PROJECT</div>
    </div>
  </div>

  <!-- WebGL Background -->
  <canvas id="webgl-canvas" aria-hidden="true"></canvas>

  <header class="header">
    <div class="container nav-flex">
      <a href="index.html" class="logo">KOSTYUK <span>PROJECT</span></a>
      <button class="burger" id="burgerBtn" aria-label="Открыть меню" aria-controls="mobileMenu" aria-expanded="false">
        <svg class="icon-svg" style="width:32px;height:32px;" viewBox="0 0 24 24">
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </button>
    </div>
  </header>

  <div class="mobile-menu" id="mobileMenu" aria-hidden="true">
    <a href="afisha.html" class="nav-card gold navlink">
      <span>Корпоративы и Праздники</span>
      <h3>КОНЦЕРТНЫЕ ШОУ</h3>
    </a>

    <div style="height: 15px;"></div>

    <button class="nav-card silver" id="openSchoolBtn" type="button">
      <span>Обучение с нуля</span>
      <h3>ШКОЛА ФОКУСОВ</h3>
    </button>
  </div>

  <section id="hero" class="hero">
    <div class="hero-img" aria-hidden="true"></div>
    <div class="container">
      <div class="hero-content">
        <h1 class="hero-title">Магия <br><span class="text-gold">Высокого Уровня</span></h1>
        <p class="hero-desc">Премиальное шоу для тех, кто видел всё. Интеллектуально. Стильно.</p>

        <div class="hero-btns">
          <a class="btn btn-primary" href="#calc">Рассчитать стоимость</a>
          <a class="btn btn-glass" href="#order">Забронировать</a>
          <button class="btn btn-glass" type="button" id="openVideoBtn">
            <svg class="icon-svg" viewBox="0 0 24 24"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
            Смотреть промо
          </button>
        </div>
      </div>
    </div>
  </section>

  <div class="partners-section">
    <div class="container" style="overflow:hidden;">
      <p class="text-center" style="color:#666; font-size:0.65rem; margin-bottom:15px; letter-spacing:0.1em; text-transform:uppercase;">
        Нам доверяют
      </p>
      <div class="partners-track" aria-label="Логотипы партнёров">
        <img src="images/logo-gazprom.png" class="partner-logo" alt="Газпром" loading="lazy">
        <img src="images/logo-chery.png" class="partner-logo" alt="Chery" loading="lazy">
        <img src="images/logo-magnit.png" class="partner-logo" alt="Магнит" loading="lazy">
        <img src="images/logo-rostelecom.png" class="partner-logo" alt="Ростелеком" loading="lazy">
        <img src="images/logo-yaroslavl.png" class="partner-logo" alt="Ярославль" loading="lazy">
        <img src="images/logo-dixy.png" class="partner-logo" alt="Дикси" loading="lazy">
        <img src="images/logo-beeline.png" class="partner-logo" alt="Билайн" loading="lazy">
        <img src="images/logo-perekrestok.png" class="partner-logo" alt="Перекрёсток" loading="lazy">
        <img src="images/logo-megafon.png" class="partner-logo" alt="Мегафон" loading="lazy">
        <img src="images/logo-danone.png" class="partner-logo" alt="Danone" loading="lazy">

        <!-- дубли для бесконечной прокрутки -->
        <img src="images/logo-gazprom.png" class="partner-logo" alt="" aria-hidden="true" loading="lazy">
        <img src="images/logo-chery.png" class="partner-logo" alt="" aria-hidden="true" loading="lazy">
        <img src="images/logo-magnit.png" class="partner-logo" alt="" aria-hidden="true" loading="lazy">
        <img src="images/logo-rostelecom.png" class="partner-logo" alt="" aria-hidden="true" loading="lazy">
      </div>
    </div>
  </div>

  <section id="formats" class="section-py">
    <div class="container">
      <h2 class="text-center gs-reveal">Форматы</h2>
      <div class="grid-cards">
        <div class="card gs-reveal">
          <div class="card-icon-wrap">
            <svg class="icon-svg icon-large" viewBox="0 0 24 24">
              <path d="M8 21h8m-4-4v4m0-4L3 6a2 2 0 0 1 1.7-3h14.6a2 2 0 0 1 1.7 3l-9 11z"></path>
            </svg>
          </div>
          <h3>Микромагия</h3>
          <span class="card-price">от 13 000 ₽</span>
          <ul><li>Welcome-зона</li><li>Фокусы в руках гостей</li></ul>
        </div>

        <div class="card gs-reveal" style="border-color:var(--gold-dark);">
          <div class="card-icon-wrap">
            <svg class="icon-svg icon-large" viewBox="0 0 24 24">
              <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
              <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
              <line x1="12" y1="19" x2="12" y2="23"></line>
              <line x1="8" y1="23" x2="16" y2="23"></line>
            </svg>
          </div>
          <h3>Сценическое шоу</h3>
          <span class="card-price">от 17 500 ₽</span>
          <ul><li>Интерактив с залом</li><li>Чтение мыслей</li></ul>
        </div>

        <div class="card gs-reveal">
          <div class="card-icon-wrap">
            <svg class="icon-svg icon-large" viewBox="0 0 24 24">
              <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"></path>
            </svg>
          </div>
          <h3>Шоу «СЕКРЕТ»</h3>
          <span class="card-price">от 150 000 ₽</span>
          <ul><li>Полноценный концерт</li><li>Атмосферный спектакль</li></ul>
        </div>
      </div>
    </div>
  </section>

  <section id="calc" class="section-py">
    <div class="container gs-reveal">
      <h2 class="text-center">Калькулятор</h2>
      <div class="wizard-box">
        <div class="wizard-progress"><div class="progress-bar" id="wizProgress"></div></div>

        <div class="wizard-step active" id="step1">
          <h3 class="step-title">1. Где и когда?</h3>
          <label>Регион</label>
          <select id="area" class="input-field"><option value="" disabled selected>Выберите область</option></select>
          <label>Город</label>
          <select id="city" class="input-field" disabled><option>Сначала область</option></select>
          <label>Дата</label>
          <input type="date" id="date" class="input-field">
          <div class="wiz-controls"><button class="btn btn-primary" id="nextTo2" type="button">Далее</button></div>
        </div>

        <div class="wizard-step" id="step2">
          <h3 class="step-title">2. Количество гостей</h3>
          <select id="guests" class="input-field">
            <option value="0">до 50</option>
            <option value="5000">51–100</option>
            <option value="10000">101–200</option>
            <option value="custom">свыше 200</option>
          </select>

          <div id="slider">
            <label>Гостей — <span id="gNum">250</span></label>
            <input type="range" id="gRange" min="201" max="500" value="250" class="input-field" style="padding:0; height:4px;">
          </div>

          <h3 class="step-title" style="margin-top:20px;">3. Услуги</h3>
          <select id="cat" class="input-field"><option value="" disabled selected>Категория</option></select>
          <select id="svc" class="input-field" disabled><option value="" disabled selected>Программа</option></select>
          <div id="desc"></div>

          <div class="wiz-controls">
            <button class="btn btn-glass" id="backTo1" type="button">Назад</button>
            <button class="btn btn-primary" id="calcBtn" type="button">Рассчитать</button>
          </div>
        </div>

        <div class="wizard-step" id="step3">
          <h3 class="step-title text-center">Смета</h3>
          <div class="receipt">
            <div class="receipt-row"><span>Итого</span><span id="rTotal" class="receipt-total">0 ₽</span></div>
            <div class="breakdown" id="breakdown"></div>
          </div>
          <div class="wiz-controls">
            <a href="#order" class="btn btn-primary" style="width:100%">Забронировать</a>
            <button class="btn btn-glass" id="editCalc" type="button">Изменить</button>
          </div>
        </div>

      </div>
    </div>
  </section>

  <section class="section-py game-section">
    <div class="container gs-reveal">
      <h2>Испытай удачу</h2>
      <p style="color:#888;">Найди <span style="color:#fff">Туза Пик</span> и получи скидку.</p>
      <div class="deck" id="gameDeck"></div>
      <div id="gameMsg" style="min-height:24px; color:var(--gold-light); font-weight:bold;"></div>
    </div>
  </section>

  <section class="section-py">
    <div class="container gs-reveal">
      <h2 class="text-center">Вопросы</h2>
      <div class="faq-grid" id="faqContainer"></div>
    </div>
  </section>

  <section id="order" class="section-py">
    <div class="container gs-reveal" style="max-width:500px; text-align:center;">
      <h2>Связь</h2>

      <form id="tgForm" data-lead-form="main">
        <input type="text" name="name" placeholder="Ваше Имя" class="input-field" required>
        <input type="tel" name="phone" placeholder="Телефон" class="input-field" required>
        <input type="text" name="website" style="display:none;">
        <button class="btn btn-primary" style="width:100%">Отправить</button>

        <div class="form-hint" id="tgFormHint" aria-live="polite"></div>
        <p class="consent-mini">Нажимая кнопку, вы соглашаетесь с обработкой данных.</p>
      </form>
    </div>
  </section>

  <footer style="text-align:center; padding:30px 0; color:#444; font-size:0.7rem;">© 2025 Дмитрий Костюк</footer>

  <!-- VIDEO MODAL -->
  <div id="modalVideo" class="modal" aria-hidden="true">
    <div class="modal-content" style="width:800px; max-width:95%; aspect-ratio:16/9; background:#000; padding:0; border:none; position:relative;">
      <button class="close-btn" id="closeVideoBtn" type="button" aria-label="Закрыть видео"
        style="right:10px; top:10px; z-index:10; background:rgba(0,0,0,0.5); width:30px; height:30px; border-radius:50%; display:flex; justify-content:center; align-items:center;">×</button>
      <div id="vidContainer" style="width:100%; height:100%"></div>
    </div>
  </div>

  <!-- SCHOOL MODAL -->
  <div id="schoolModal" class="modal" aria-hidden="true">
    <div class="school-modal-content">
      <button class="close-btn" id="closeSchoolBtn" type="button" aria-label="Закрыть">×</button>
      <div class="school-hero-inner">
        <h2 style="font-family:'Cinzel'; color:var(--gold-primary); margin-bottom:10px;">ШКОЛА МАГИИ</h2>
        <p style="color:#ccc; margin-bottom:30px;">Уверенность, харизма и умение управлять вниманием.</p>

        <div class="school-levels">
          <div class="level-card">
            <h4>НОВИЧОК</h4>
            <ul><li>Базовые трюки</li><li>Психология</li></ul>
            <span class="level-price">4 900 ₽</span>
          </div>
          <div class="level-card" style="border-color:var(--gold-primary);">
            <h4 style="color:var(--gold-primary)">БАЗОВЫЙ</h4>
            <ul><li>Сцена</li><li>Реквизит</li></ul>
            <span class="level-price">8 900 ₽</span>
          </div>
        </div>

        <form id="schoolFormHero" data-lead-form="school-modal" style="margin-top:30px;">
          <input type="text" name="parent" placeholder="Имя родителя" class="input-field" required>
          <input type="tel" name="phone" placeholder="Телефон" class="input-field" required>
          <input type="text" name="website" style="display:none;">
          <button class="btn btn-primary" style="width:100%">ЗАПИСАТЬСЯ</button>
          <div class="form-hint" aria-live="polite"></div>
        </form>

        <div style="margin-top:18px; text-align:center;">
          <a class="btn btn-glass" href="school.html" style="width:100%; justify-content:center;">Открыть страницу школы</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="js/app.js"></script>
  <script src="js/three-bg.js"></script>
  <script src="js/calc.js"></script>
  <script src="js/game.js"></script>
  <script src="js/forms.js"></script>
</body>
</html>
