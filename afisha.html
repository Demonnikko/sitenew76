<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Афиша | Kostyuk Project</title>

<meta name="description" content="Расписание шоу иллюзиониста Дмитрия Костюка.">
<meta name="theme-color" content="#050505">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Manrope:wght@300;400;600;800&display=swap" rel="stylesheet">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

<style>
/* === BASE STYLES === */
:root {
  --bg: #050505;
  --text: #F2F2F2;
  --gold-primary: #D4AF37;
  --gold-light: #F8E79B;
  --gold-dark: #8A6E2F;
  --gradient-gold: linear-gradient(135deg, var(--gold-primary) 0%, var(--gold-light) 50%, var(--gold-dark) 100%);
  --container: min(1100px, 92vw);
  --ff-head: 'Cinzel', serif;
  --ff-body: 'Manrope', sans-serif;
}

*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
html { -webkit-font-smoothing: antialiased; background: var(--bg); }
body {
  font-family: var(--ff-body); color: var(--text);
  line-height: 1.6; overflow-x: hidden; margin: 0;
}

/* HEADER */
.header { position: fixed; top: 0; inset-inline: 0; z-index: 100; padding: 15px 0; background: rgba(5,5,5,0.9); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(255,255,255,0.05); }
.nav-flex { display: flex; justify-content: space-between; align-items: center; }
.logo { font-family: var(--ff-head); font-size: 1.2rem; font-weight: 900; color: #fff; text-decoration: none; }
.logo span { color: var(--gold-primary); }

.back-btn {
    display: flex; align-items: center; gap: 8px;
    color: #fff; text-decoration: none; font-size: 0.9rem; font-weight: 600;
    border: 1px solid rgba(255,255,255,0.2); padding: 8px 16px; border-radius: 50px;
    transition: 0.3s;
}
.back-btn:hover { border-color: var(--gold-primary); color: var(--gold-primary); }

/* HERO AFISHA */
.afisha-hero {
    padding: 120px 0 40px; text-align: center;
    background: radial-gradient(circle at 50% 0%, rgba(212, 175, 55, 0.1), transparent 70%);
}
.afisha-title { font-family: var(--ff-head); font-size: clamp(2.5rem, 6vw, 4rem); margin-bottom: 10px; line-height: 1; }
.afisha-subtitle { color: #888; font-size: 1rem; max-width: 600px; margin: 0 auto; text-transform: uppercase; letter-spacing: 0.1em; }

/* === EVENT CARD === */
.events-list { display: flex; flex-direction: column; gap: 80px; padding-bottom: 80px; }

.event-card {
    display: grid; 
    grid-template-columns: 1fr 1.2fr; /* Картинка слева, Текст справа */
    gap: 40px;
    align-items: center;
}

/* Зеркальное отображение для десктопа (Текст слева, Картинка справа) */
.event-card.reversed { grid-template-columns: 1.2fr 1fr; }
.event-card.reversed .event-visual-wrap { order: 2; }
.event-card.reversed .event-content { order: 1; text-align: right; align-items: flex-end; }
.event-card.reversed .event-tags { justify-content: flex-end; }

/* SWIPER CONTAINER (Visual) */
.event-visual-wrap {
    width: 100%; max-width: 400px;
    margin: 0 auto;
    position: relative;
    border-radius: 20px; overflow: hidden;
    box-shadow: 0 20px 50px rgba(0,0,0,0.5);
    border: 1px solid rgba(255,255,255,0.1);
    aspect-ratio: 4/5; 
}

.swiper { width: 100%; height: 100%; }
.swiper-slide { background: #000; display: flex; justify-content: center; align-items: center; }
.swiper-slide img { width: 100%; height: 100%; object-fit: cover; }
.swiper-slide video { width: 100%; height: 100%; object-fit: cover; }

.swiper-pagination-bullet { background: #fff; opacity: 0.5; }
.swiper-pagination-bullet-active { background: var(--gold-primary); opacity: 1; }

/* EVENT INFO */
.event-content { display: flex; flex-direction: column; justify-content: center; }

.event-tags { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
.tag { 
    padding: 6px 12px; border-radius: 6px; font-size: 0.75rem; font-weight: 700; 
    text-transform: uppercase; letter-spacing: 0.05em;
    background: rgba(255,255,255,0.05); color: #aaa; border: 1px solid rgba(255,255,255,0.1);
}
.tag.age { border-color: currentColor; background: rgba(255,255,255,0.02); }

.event-title { 
    font-family: var(--ff-head); font-size: clamp(2rem, 5vw, 3rem); 
    line-height: 1.1; margin-bottom: 15px; color: #fff; 
}

.event-desc { 
    color: #ccc; font-size: 1rem; margin-bottom: 30px; line-height: 1.6; 
    max-width: 500px;
}

.btn-ticket {
    background: var(--gradient-gold); color: #000; padding: 16px 40px; border-radius: 50px;
    font-weight: 800; text-transform: uppercase; text-decoration: none; transition: 0.3s;
    display: inline-flex; align-items: center; gap: 10px; width: fit-content;
    box-shadow: 0 5px 20px rgba(212, 175, 55, 0.2);
}
.btn-ticket:hover { transform: translateY(-3px); box-shadow: 0 15px 40px rgba(212, 175, 55, 0.4); }

/* MOBILE ADAPTIVE */
@media (max-width: 900px) {
    .event-card, .event-card.reversed { grid-template-columns: 1fr; gap: 20px; }
    
    /* ПОРЯДОК НА МОБИЛЬНЫХ: 1. Картинка, 2. Текст */
    .event-visual-wrap { order: 1 !important; width: 100%; aspect-ratio: 4/5; margin-bottom: 10px; } 
    .event-content { order: 2 !important; text-align: left !important; align-items: flex-start !important; padding: 0 10px; }
    
    .event-tags { justify-content: flex-start !important; }
}

/* PRELOADER */
.preloader { position: fixed; inset: 0; background: #000; z-index: 9999; display: flex; align-items: center; justify-content: center; transition: opacity 0.5s; pointer-events: none;}
.preloader.hide { opacity: 0; }
.preloader-text { font-family: var(--ff-head); font-size: 1.5rem; color: var(--gold-primary); letter-spacing: 0.2em; }
</style>
</head>
<body>

<div class="preloader" id="preloader">
  <div class="preloader-text">АФИША</div>
</div>

<header class="header">
  <div class="container nav-flex">
    <a href="index.html" class="logo">KOSTYUK <span>PROJECT</span></a>
    <a href="index.html" class="back-btn">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
      Меню
    </a>
  </div>
</header>

<section class="afisha-hero">
  <div class="container">
    <h1 class="afisha-title">ВЫБЕРИ СВОЮ <span class="text-gold">МАГИЮ</span></h1>
    <p class="afisha-subtitle">Свайпай афиши влево, чтобы смотреть трейлеры</p>
  </div>
</section>

<div class="container events-list">

    <div class="event-card gs-reveal">
        <div class="event-visual-wrap">
            <div class="swiper mySwiper">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <img src="images/poster-secret.jpg" alt="Poster Secret" onerror="this.src='https://via.placeholder.com/400x500/111/333?text=SECRET+IMG'">
                    </div>
                    <div class="swiper-slide">
                        <video src="images/video-secret.mp4" loop muted playsinline poster="images/poster-secret.jpg"></video>
                    </div>
                </div>
                <div class="swiper-pagination"></div>
            </div>
        </div>

        <div class="event-content">
            <div class="event-tags">
                <span class="tag age" style="color:var(--gold-primary)">12+</span>
                <span class="tag">Интеллектуальное шоу</span>
                <span class="tag">2 часа</span>
            </div>
            <h2 class="event-title">ШОУ «СЕКРЕТ»</h2>
            <p class="event-desc">
                Философское шоу о мечтах и становлении личности. Это не просто трюки — это история. 
                Вам раскроют секрет, который никогда прежде не раскрывался.
            </p>
            <a href="https://qtickets.ru" target="_blank" class="btn-ticket">Купить Билет</a>
        </div>
    </div>

    <div class="event-card reversed gs-reveal">
        <div class="event-visual-wrap">
            <div class="swiper mySwiper">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <img src="images/poster-matvey.jpg" alt="Poster Matvey" onerror="this.src='https://via.placeholder.com/400x500/111/333?text=MATVEY+IMG'">
                    </div>
                    <div class="swiper-slide">
                        <video src="images/video-matvey.mp4" loop muted playsinline poster="images/poster-matvey.jpg"></video>
                    </div>
                </div>
                <div class="swiper-pagination"></div>
            </div>
        </div>

        <div class="event-content">
            <div class="event-tags">
                <span class="tag age" style="color:#87CEEB">6+</span>
                <span class="tag">Магический квест</span>
                <span class="tag">1.5 часа</span>
            </div>
            <h2 class="event-title">СПАСТИ МАТВЕЯ</h2>
            <p class="event-desc">
                Уникальный интерактивный спектакль, не имеющий аналогов. Дети — не зрители, а участники. 
                Именно вы решаете, какой будет концовка этой истории.
            </p>
            <a href="https://qtickets.ru" target="_blank" class="btn-ticket" style="background: linear-gradient(135deg, #87CEEB, #fff); color:#000;">Купить Билет</a>
        </div>
    </div>

    <div class="event-card gs-reveal">
        <div class="event-visual-wrap">
             <div class="swiper mySwiper">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <img src="images/poster-hooligan.jpg" alt="Poster Hooligan" onerror="this.src='https://via.placeholder.com/400x500/111/333?text=HOOLIGAN+IMG'">
                    </div>
                    <div class="swiper-slide">
                        <video src="images/video-hooligan.mp4" loop muted playsinline poster="images/poster-hooligan.jpg"></video>
                    </div>
                </div>
                <div class="swiper-pagination"></div>
            </div>
        </div>

        <div class="event-content">
            <div class="event-tags">
                <span class="tag age" style="color:#ff4d4d">18+</span>
                <span class="tag">Comedy Magic</span>
                <span class="tag">1 час 15 мин</span>
            </div>
            <h2 class="event-title">THE ХУЛИGAN</h2>
            <p class="event-desc">
                Шоу исключительно для взрослой публики. "Просто фокусы" — это колкие шутки, острая импровизация 
                и много юмора через призму магии. Без цензуры.
            </p>
            <a href="https://qtickets.ru" target="_blank" class="btn-ticket" style="background: linear-gradient(135deg, #ff4d4d, #fff); color:#000;">Купить Билет</a>
        </div>
    </div>

</div>

<footer style="text-align:center; padding:40px 0; color:#444; font-size:0.8rem; border-top: 1px solid #111;">© 2025 Kostyuk Project</footer>

<script>
// PRELOADER
window.addEventListener("load", () => {
    document.getElementById('preloader').classList.add('hide');
    // Init animations
    gsap.from(".afisha-title", { y: 50, opacity: 0, duration: 1, ease: "power3.out" });
    gsap.utils.toArray(".gs-reveal").forEach(elem => {
        gsap.from(elem, { 
            scrollTrigger: { trigger: elem, start: "top 85%" }, 
            y: 50, opacity: 0, duration: 0.8 
        });
    });
});

// SWIPER LOGIC (Instagram Style)
const swipers = new Swiper('.mySwiper', {
    pagination: {
        el: '.swiper-pagination',
        clickable: true,
    },
    effect: 'coverflow', 
    coverflowEffect: {
        rotate: 0,
        stretch: 0,
        depth: 0,
        modifier: 1,
        slideShadows: false,
    },
    on: {
        slideChange: function () {
            const activeIndex = this.activeIndex;
            const slides = this.slides;
            
            if (activeIndex === 1) {
                const vid = slides[1].querySelector('video');
                if(vid) {
                    vid.currentTime = 0;
                    vid.play();
                }
            } else {
                const vid = slides[1].querySelector('video');
                if(vid) vid.pause();
            }
        }
    }
});
</script>

</body>
</html>
